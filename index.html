<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LyricsOP</title>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden;
      color: #fff;
      background: #000; /* fallback */
    }

    /* Three.js canvas behind everything */
    #bg {
      position: fixed;
      inset: 0;
      z-index: 0;
      display: block;
    }

    /* Gradient veil for depth */
    .gradient-veil {
      position: fixed;
      inset: 0;
      z-index: 1;
      pointer-events: none;
      background: radial-gradient(1200px 800px at 20% 10%, rgba(13,110,253,0.25), transparent 60%),
                  radial-gradient(1000px 700px at 80% 90%, rgba(111,66,193,0.25), transparent 60%);
      animation: drift 16s ease-in-out infinite alternate;
      mix-blend-mode: screen;
    }
    @keyframes drift {
      0%   { transform: translate3d(0,0,0) scale(1);   filter: blur(0px); }
      100% { transform: translate3d(0,-2%,0) scale(1.05); filter: blur(1px); }
    }

    /* Foreground content */
    .hero {
      position: relative;
      z-index: 2;
      min-height: 100vh;
      display: grid;
      place-items: center;
      text-align: center;
      padding: 2rem;
    }

    .btn-glow {
      background-color: #0d6efd;
      color: #fff;
      padding: 12px 30px;
      font-size: 1.15rem;
      border-radius: 10px;
      transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease;
      box-shadow: 0 0 0 rgba(13,110,253,0);
    }
    .btn-glow:hover {
      transform: translateY(-2px);
      background-color: #0b5ed7;
      box-shadow: 0 10px 30px rgba(13,110,253,0.45);
    }

    .footer {
      position: fixed;
      bottom: 15px;
      width: 100%;
      text-align: center;
      font-size: 1rem;
      color: #ddd;
      z-index: 2;
    }
    .footer .heart {
      color: #ff4b5c;
      font-size: 1.2rem;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <!-- Three.js background -->
  <canvas id="bg"></canvas>
  <!-- Light gradient overlay -->
  <div class="gradient-veil"></div>

  <!-- Foreground content -->
  <main class="hero container">
    <div>
      <h1 class="display-4 fw-bold mb-3">Welcome to LyricsOP</h1>
      <p class="lead mb-4">Dive into songs—titles, composers, release dates, and full lyrics.</p>
      <a href="lyrics.html" class="btn btn-glow">Enter Now</a>
    </div>
  </main>

  <!-- Footer -->
  <div class="footer">
    Made with <span class="heart">❤️</span> by Dheer Kumar Sharma
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>

  <!-- Three.js Waves -->
  <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.159.0/build/three.module.js';

    const canvas = document.getElementById('bg');
    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
    renderer.setPixelRatio(Math.min(2, window.devicePixelRatio || 1));
    renderer.setSize(window.innerWidth, window.innerHeight);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 0.1, 2000);
    camera.position.set(0, 35, 95);

    const hemi = new THREE.HemisphereLight(0x88aaff, 0x0b1020, 0.9);
    scene.add(hemi);
    const dir = new THREE.DirectionalLight(0xffffff, 0.45);
    dir.position.set(-40, 80, 60);
    scene.add(dir);

    const WIDTH = 280, HEIGHT = 160, SEGW = 200, SEGH = 140;
    const geo = new THREE.PlaneGeometry(WIDTH, HEIGHT, SEGW, SEGH);
    geo.rotateX(-Math.PI / 2);

    const mat = new THREE.MeshStandardMaterial({
      color: 0x0d2a4f,
      roughness: 0.5,
      metalness: 0.25,
      emissive: 0x001a3a,
      emissiveIntensity: 0.35,
      side: THREE.DoubleSide
    });

    const waves = new THREE.Mesh(geo, mat);
    waves.position.y = 0;
    scene.add(waves);

    const pos = geo.attributes.position;
    const base = pos.array.slice();

    let mouseX = 0, mouseY = 0;
    let targetAmp = 2.2;
    let baseSpeed = 0.8;
    let time = 0;

    window.addEventListener('mousemove', (e) => {
      const nx = (e.clientX / window.innerWidth) * 2 - 1;
      const ny = (e.clientY / window.innerHeight) * 2 - 1;
      mouseX = nx;
      mouseY = ny;
      targetAmp = 2.0 + Math.hypot(nx, ny) * 3.5;
    }, { passive: true });

    window.addEventListener('deviceorientation', (e) => {
      const nx = (e.gamma || 0) / 45;
      const ny = (e.beta  || 0) / 45;
      mouseX = THREE.MathUtils.clamp(nx, -1, 1);
      mouseY = THREE.MathUtils.clamp(ny, -1, 1);
      targetAmp = 2.0 + Math.hypot(mouseX, mouseY) * 3.5;
    });

    function onResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }
    window.addEventListener('resize', onResize);

    function animate() {
      const currentAmp = THREE.MathUtils.lerp(pos._amp || 2.2, targetAmp, 0.08);
      pos._amp = currentAmp;

      camera.position.x = THREE.MathUtils.lerp(camera.position.x, mouseX * 15, 0.04);
      camera.position.z = THREE.MathUtils.lerp(camera.position.z, 95 + mouseY * 10, 0.04);
      camera.lookAt(0, 0, 0);

      time += 0.016 * (baseSpeed + Math.abs(mouseX) * 0.6 + Math.abs(mouseY) * 0.3);

      const arr = pos.array;
      for (let i = 0; i < arr.length; i += 3) {
        const x = base[i + 0];
        const y = base[i + 1];
        const z = base[i + 2];

        const dist = Math.hypot(x * 0.02, z * 0.02);
        const wave1 = Math.sin((x * 0.12) + time * 1.8) * (currentAmp * 0.6);
        const wave2 = Math.cos((z * 0.10) - time * 1.2) * (currentAmp * 0.4);
        const radial = Math.sin(dist * 3.0 - time * 2.0) * (currentAmp * 0.35);
        const cursor = Math.exp(-((x - mouseX * 70) ** 2 + (z - mouseY * 40) ** 2) / 1300) * currentAmp * 1.2;

        arr[i + 1] = y + wave1 + wave2 + radial + cursor;
      }
      pos.needsUpdate = true;
      geo.computeVertexNormals();

      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    }
    animate();
  </script>
</body>
</html>
